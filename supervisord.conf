[supervisord]
nodaemon=true
loglevel=info

[program:xvfb]
command=/usr/bin/Xvfb :0 -screen 0 1280x720x24 -ac +extension GLX +render -noreset
autorestart=true
priority=10

[program:fluxbox]
command=/usr/bin/fluxbox
environment=DISPLAY=":0"
autorestart=true
priority=20

[program:x11vnc]
command=/bin/bash -lc 'for i in {1..200}; do xdpyinfo -display :0 >/dev/null 2>&1 && break; sleep 0.5; done; exec x11vnc -display :0 -forever -shared -rfbport 5900 -nopw -noxdamage'
autorestart=true
priority=30

[program:novnc]
command=/usr/bin/x11vnc -display :0 -forever -shared -rfbport 5900 -nopw -noxdamage
autorestart=true
priority=40

[program:googlefindmytools]
directory=/app/GoogleFindMyTools
environment=DISPLAY=":0",PYTHONUNBUFFERED="1"
command=/app/GoogleFindMyTools/venv/bin/python /app/GoogleFindMyTools/main.py
autorestart=false
priority=50
stdout_logfile=/dev/stdout
stderr_logfile=/dev/stderr
